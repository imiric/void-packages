# Template file for 'fooyin'
pkgname=fooyin
version=0.8.1
revision=1
_libvgm_version="34c368cde98f33c42455fbbfbec07073ba79bf5c"
archs="x86_64"
build_style=cmake
configure_args="-G Ninja
 -DCMAKE_BUILD_TYPE=Release
 -DBUILD_PCH=ON
 -DBUILD_WERROR=OFF
 -DBUILD_TESTING=ON"
hostmakedepends="pkg-config cmake ninja qt6-base-devel qt6-tools git"
makedepends="qt6-base-devel qt6-svg-devel qt6-tools-devel
	alsa-lib-devel ffmpeg-devel gtest-devel icu-devel libarchive-devel
	libebur128-devel libgme-devel libopenmpt-devel libsndfile-devel pipewire-devel
	SDL2-devel taglib-devel"
depends="qt6-base>=6.4.0 qt6-svg qt6-tools taglib>=1.12.0 ffmpeg>=4.4.0 icu-libs"
short_desc="Customisable music player"
maintainer="Ivan MiriÄ‡ <imiric-gh@proton.me>"
license="GPL-3.0-only"
homepage="https://www.fooyin.org/"
distfiles="https://github.com/fooyin/fooyin/archive/v${version}.tar.gz
	https://github.com/ValleyBell/libvgm/archive/${_libvgm_version}.tar.gz"
checksum="e702389488e19c4c48b1b62bf1b2adf263b818138e3b232a39259057cbcec9c2
	29eaaaa86ed79ca54d6fa68fa9bf056c67ffdc2ad2c2b6c17e1f94ea415c96d2"

skip_extraction="${_libvgm_version}.tar.gz"

post_extract() {
	vsrcextract -C 3rdparty/libvgm "${_libvgm_version}.tar.gz"
}
